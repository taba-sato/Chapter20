<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Chapter20:アカウントDAOクラスをインタフェースに変更</title>
  <link rel="stylesheet" type="text/css" th:href="@{/styles.css}">
</head>
<body>
  <h2>更新・削除</h2>
  <!--/* アカウントの更新・削除画面 */-->
  <form method="post" th:object="${accountDto}" th:action="@{/account/update}">
      <div>
        <button type="submit">更新</button>
        <!-- 削除: このボタンだけ送信先を上書き（POST /account/delete） -->
        <button type="submit" onclick="return confirm('本当に削除しますか？');" th:formaction="@{/account/delete}">削除</button>
        <!-- キャンセル: GET遷移なのでCSRF不要 -->
        <a th:href="@{/account/cancel}">
          <button type="button">キャンセル</button>
        </a>
    </div>
    <div>
      <label for="id">ID</label>
      <input th:readonly="true" type="text" name="id" th:value="*{id}" />
    </div>
    <div>
      <label for="email">Email</label>
      <input type="text" name="email" th:value="*{email}" />
      <!--/* エラーメッセージの出力 */-->
      <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" th:errorclass="validation-error">
    </div>
<!--    <div>-->
<!--      <label for="password">Password</label>-->
<!--      <input type="text" name="password" th:value="*{password}" />-->
<!--      /* エラーメッセージの出力 */-->
<!--      <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" th:errorclass="validation-error">-->
<!--    </div>-->
  </form>
</body>
</html>